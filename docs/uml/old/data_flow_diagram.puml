@startuml
title Data Flow Diagram â€“ From EEBO to Analysis

'============================
' Actors
'============================
actor User

'============================
' External Data / Sources
'============================
rectangle "EEBO Data" {
    rectangle "EEBO XML" as EEBO_XML
    rectangle "EEBO Images" as EEBO_Images
}

'============================
' Processes (DFD style)
'============================
circle "Ingest EEBO Data" as P1
circle "Generate TEI" as P2
circle "Normalise Tokens" as P3
circle "Run MacBERTh" as P4
circle "Corpus Analysis" as P5

'============================
' Data Stores
'============================
database "TEI Store" as D1
database "Normalised DB" as D2
database "Embeddings/Features" as D3

'============================
' Data Flows
'============================
EEBO_XML --> P1
EEBO_Images --> P1

P1 --> P2
P2 --> D1

D1 --> P3
P3 --> D2

D2 --> P4
P4 --> D3

D3 --> P5
User --> P5
P5 --> User

@enduml
